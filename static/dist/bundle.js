let $=jQuery;const Apis=(_=>{let apiUri='https://api.kremilly.com';let featured=_=>{if(window.location.pathname=='/'){fetch(apiUri).then(json=>json.json()).then(response=>{window.location.hash='apis';$('.featured-tabs').removeClass('actived');$('#tabApis').toggleClass('actived');$('#featuredList').empty();response.list.forEach(item=>{$('#featuredList').append(`<a href='${item.wiki}' target='_blank' class='item featured-item'><div class='name'>${Utils.capitalize(item.name)}</div></a>`);});$('#featured').show();});}};let projects=_=>{fetch(apiUri).then(json=>json.json()).then(response=>{$('#apisProjectsListBtn').addClass('actived');$('#pinnedProjectsListBtn').removeClass('actived');$('#cratesProjectsListBtn').removeClass('actived');$('#featuredProjectsListBtn').removeClass('actived');$('#projectsList').empty();response.list.forEach(item=>{$('#projectsList').append(`<a href='${item.wiki}' target='_blank' class='item project-item'>${_.capitalize(item.name)}</a>`);});});};let checkApi=_=>{if(window.location.pathname=='/'){if(window.location.hash){$('#featured').addClass('featured-caller');}else{$('#featured').removeClass('featured-caller');}switch(window.location.hash){case '#apis':this.featured();break;case '#pins':GitHub.featured();break;case '#crates':Crates.featured();break;case '#projects':Projects.featured();break;default:GitHub.featured(true);break;}}};return{apiUri:apiUri,featured:()=>{return featured()},projects:()=>{return projects()},checkApi:()=>{return checkApi()},};})();const Crates=(_=>{let cratesPage='https://crates.io/crates/';let cratesURI='https://crates.io/api/v1/crates?user_id=232087';let featured=_=>{if(window.location.pathname=='/'){fetch(cratesURI).then(json=>json.json()).then(response=>{window.location.hash='crates';$('.featured-tabs').removeClass('actived');$('#tabCrates').toggleClass('actived');$('#featuredList').empty();response.crates.forEach(item=>{$('#featuredList').append(`<a href='${cratesPage}${item.name}' target='_blank' class='item featured-item'><div class='name'>${Utils.capitalize(item.name)}</div><div class='info'>${item.description}</div><div class='footer'><div class='lang'>${'v.'+item.newest_version}</div><div class='stats'>${Utils.format(item.downloads)+' downloads'}</div></div></a>`);});$('#featured').show();});}};let projects=_=>{fetch(cratesURI).then(json=>json.json()).then(response=>{$('#cratesProjectsListBtn').addClass('actived');$('#apisProjectsListBtn').removeClass('actived');$('#pinnedProjectsListBtn').removeClass('actived');$('#featuredProjectsListBtn').removeClass('actived');$('#projectsList').empty();response.crates.forEach(item=>{$('#projectsList').append(`<a href='https://crates.io/crates/${item.name}' target='_blank' class='item project-item'>${Utils.capitalize(item.name)}</a>`);});});};return{cratesURI:cratesURI,cratesPage:cratesPage,featured:()=>{return featured()},projects:()=>{return projects()},};})();$(_=>{Apis.checkApi();Projects.projects();$('#tabApis').on('click',Apis.featured);$('#tabPins').on('click',GitHub.featured);$('#tabCrates').on('click',Crates.featured);$('#tabProjects').on('click',Projects.featured);$('#apisProjectsListBtn').on('click',Apis.projects);$('#pinnedProjectsListBtn').on('click',GitHub.projects);$('#cratesProjectsListBtn').on('click',Crates.projects);$('#featuredProjectsListBtn').on('click',Projects.projects);$('.featured-search').on('input',function(){var searchText=$(this).val().toLowerCase();$('.featured-body>.featured-item').each(function(){var listItemText=$(this).text().toLowerCase();if(listItemText.includes(searchText)){$(this).show();}else{$(this).hide();}});});});const GitHub=(_=>{let username='kremilly';let apiUri='https://api.kremilly.com';let projects=_=>{fetch(`${Apis.apiUri}/github?user=${username}`).then(json=>json.json()).then(response=>{$('#pinnedProjectsListBtn').addClass('actived');$('#apisProjectsListBtn').removeClass('actived');$('#cratesProjectsListBtn').removeClass('actived');$('#featuredProjectsListBtn').removeClass('actived');$('#projectsList').empty();response.forEach(item=>{$('#projectsList').append(`<a href='${item.url}' target='_blank' class='item project-item'>${item.name}</a>`);});});};let featured=(no_anchor=false)=>{if(window.location.pathname=='/'){fetch(`${apiUri}/github?user=${username}`,{method:'GET',cache:'default',}).then(json=>json.json()).then(response=>{if(!no_anchor)window.location.hash='pins';$('.featured-tabs').removeClass('actived');$('#tabPins').toggleClass('actived');$('#featuredList').empty();response.forEach(item=>{$('#featuredList').append(`<a href='${item.url}' target='_blank' class='item featured-item'><div class='name'>${item.name}</div><div class='info'>${item.description}</div><div class='footer'><div class='lang ${item.languages[0].toLowerCase()}' data-lang='${item.languages[0]}'>${item.languages[0]}</div><div class='stats'><div class='fas fa-star'></div>${Utils.format(item.stars)+' stars'}<div class='fas fa-code-fork'></div>${Utils.format(item.forks)+' forks'}</div></div></a>`);});$('#featured').show();});}};return{username:username,projects:()=>{return projects()},featured:()=>{return featured()},};})();$(_=>{ScrollTo.checkScroll();var hideMenuTimeout;$(window).on('scroll',ScrollTo.checkScroll);$('#scrollToTopBtn').on('click',ScrollTo.top);$('#toggleMenuBox,#menuBox').hover(function(){clearTimeout(hideMenuTimeout);$('#menuBoxToggleDocs').hide();$('#menuBoxTogglePages').show();$('#menuBoxTogglePagesBtn').addClass('actived');$('#menuBoxToggleDocsBtn').removeClass('actived');$('#toggleMenuBox').addClass('actived-menu');$('#menuBox').stop(true,true).fadeIn(250);},function(){hideMenuTimeout=setTimeout(function(){$('#toggleMenuBox').removeClass('actived-menu');$('#menuBox').stop(true,true).fadeOut(250);},300);});$('#projectsBoxBtn,#projectsBox').hover(function(){clearTimeout(hideMenuTimeout);$('#projectsBoxBtn').addClass('actived-logo');$('#projectsBox').stop(true,true).fadeIn(250);},function(){hideMenuTimeout=setTimeout(function(){$('#projectsBoxBtn').removeClass('actived-logo');$('#projectsBox').stop(true,true).fadeOut(250);},300);});$('#menuBoxTogglePagesBtn').on('click',function(){$(this).addClass('actived');$('#menuBoxToggleDocsBtn').removeClass('actived');$('#menuBoxToggleDocs').slideUp(250);$('#menuBoxTogglePages').slideDown(250);});$('#menuBoxToggleDocsBtn').on('click',function(){$(this).addClass('actived');$('#menuBoxTogglePagesBtn').removeClass('actived');$('#menuBoxTogglePages').slideUp(250);$('#menuBoxToggleDocs').slideDown(250);});});const Mermaid=(_=>{mermaid.initialize({theme:'dark',securityLevel:'loose',});let mermaidCodeBlocks=document.querySelectorAll('.language-mermaid');mermaidCodeBlocks.forEach(block=>{block.classList.remove('language-mermaid');block.classList.add('diagram-mermaid');});mermaidCodeBlocks.forEach(block=>{let diagramDiv=document.createElement('div');diagramDiv.classList.add('mermaid');diagramDiv.textContent=block.textContent;block.textContent='';block.appendChild(diagramDiv);mermaid.init(undefined,diagramDiv);});})();$(_=>{lazyload();$('#postDownloadPdfBtn').on('click',Utils.downloadPdf);$('#postShareBtn').on('click',function(){$(this).toggleClass('actived');$('#postShareBox').slideToggle(250);});$('#postTagsBtn').on('click',function(){$(this).toggleClass('actived');$('#postFlesBtn').removeClass('actived');$('#postLinksBtn').removeClass('actived');$('#postReadAlsoBtn').removeClass('actived');$('#postFilesBox').hide();$('#postLinksBox').hide();$('#postReadAlsoBox').hide();$('#postTagsBox').slideToggle(250);});$('#postFilesBtn').on('click',function(){$(this).toggleClass('actived');$('#postTagsBtn').removeClass('actived');$('#postLinksBtn').removeClass('actived');$('#postReadAlsoBtn').removeClass('actived');$('#postTagsBox').hide();$('#postLinksBox').hide();$('#postReadAlsoBox').hide();$('#postFilesBox').slideToggle(250);});$('#postReadAlsoBtn').on('click',function(){$(this).toggleClass('actived');$('#postTagsBtn').removeClass('actived');$('#postLinksBtn').removeClass('actived');$('#postFilesBtn').removeClass('actived');$('#postTagsBox').hide();$('#postLinksBox').hide();$('#postFilesBox').hide();$('#postReadAlsoBox').slideToggle(250);});$('#postLinksBtn').on('click',function(){$(this).toggleClass('actived');$('#postTagsBtn').removeClass('actived');$('#postFilesBtn').removeClass('actived');$('#postReadAlsoBtn').removeClass('actived');$('#postTagsBox').hide();$('#postFilesBox').hide();$('#postReadAlsoBox').hide();$('#postLinksBox').slideToggle(250);});$('#postShareBoxInput').on('click',function(){$(this).focus();$(this).select();let inputVal=$(this).val();navigator.clipboard.writeText(inputVal);});});const Projects=(_=>{let projectsUri=window.location.href.replace(window.location.href,'')+'/api/projects';let featured=_=>{fetch(projectsUri).then(json=>json.json()).then(response=>{window.location.hash='projects';$('.featured-tabs').removeClass('actived');$('#tabProjects').toggleClass('actived');$('#featuredList').empty();response.forEach(item=>{$('#featuredList').append(`<a href='${item.url}' target='_blank' class='item featured-item'><div class='name'>${Utils.capitalize(item.name)}</div></a>`);});$('#featured').show();})};let projects=_=>{fetch(projectsUri).then(json=>json.json()).then(response=>{$('#featuredProjectsListBtn').addClass('actived');$('#apisProjectsListBtn').removeClass('actived');$('#pinnedProjectsListBtn').removeClass('actived');$('#cratesProjectsListBtn').removeClass('actived');$('#projectsList').empty();response.forEach(item=>{$('#projectsList').append(`<a href='${item.url}' target='_blank' class='item project-item'>${item.name}</a>`);});});};return{featured:()=>{return featured()},projects:()=>{return projects()},};})();const ScrollTo=(_=>{let top=_=>{history.pushState(null,null,window.location.href.split('#')[0]);window.scroll({top:0,left:0,behavior:'smooth'});};let checkScroll=_=>{let scrollToTopBtn=document.getElementById('scrollToTopBtn');if(window.scrollY>0){scrollToTopBtn.style.display='block';}else{scrollToTopBtn.style.display='none';}};return{top:top,checkScroll:checkScroll};})();$(_=>{let paddingTop=60;let timerAnimate=800;let tocList=$('#tocList');let headers=$('h1,h2,h3');let currentHash=window.location.hash;$('#tocBoxBtn').click(function(){$(this).toggleClass('actived');$('#tocBox').slideToggle(250);});$('#searchToc').on('input',function(){let searchText=$(this).val().toLowerCase();$('#tocList>a').each(function(){let listItemText=$(this).text().toLowerCase();if(listItemText.includes(searchText)){$(this).show();}else{$(this).hide();}});});headers.each(function(){let header=$(this);if(!header.attr('id')){let sanitizedId=Utils.removeAccents(header.text());header.attr('id',sanitizedId);}let link=$('<a/>').text(header.text()).attr('href','#'+header.attr('id'));tocList.append(link);});if(window.location.pathname!=='/'){tocList.on('click','a',function(){let targetOffset=$($(this).attr('href')).offset().top;$('html,body').animate({scrollTop:targetOffset-paddingTop},timerAnimate);});}if(currentHash&&window.location.pathname!=='/'){$('html,body').animate({scrollTop:$(currentHash).offset().top-paddingTop},timerAnimate);}});const Utils=(_=>{let format=number=>{if(number>=1000){return(number/1000).toFixed(2)+'k';}else{return number.toString();}};let langColor=language=>{fetch(`https://gist.githubusercontent.com/Kremilly/0e2b5ac9779857efcf0e3fd6f62cd093/raw/112c3af99ed5db18776192609215353a18c28e9d/languages-hex-colors.json`,{method:'GET',cache:'default',}).then(response=>response.json()).then(colors=>{document.querySelectorAll(language).forEach(element=>{const lang=element.getAttribute('data-lang').toLowerCase();if(colors.hasOwnProperty(lang)){element.style.color=colors[lang];}});})};let removeAccents=text=>{return text.replace(/\s+/g,'_').replace(/[áàãâä]/gi,'a').replace(/[éèêë]/gi,'e').replace(/[íìîï]/gi,'i').replace(/[óòõôö]/gi,'o').replace(/[úùûü]/gi,'u').replace(/[ç]/gi,'c').replace(/[?!.,;:']/g,'');};let downloadPdf=_=>{let endpoint=window.location.href.replace(window.location.hash,'')+'/export';fetch(`${endpoint}`).then(response=>{if(!response.ok){throw new Error('Network response was not ok')}return response.url}).then(url=>{const a=document.createElement('a');a.href=url;a.download='arquivo.pdf';document.body.appendChild(a);a.click();document.body.removeChild(a);}).catch(error=>{console.error('There was an error with the fetch operation:',error);});};let capitalize=text=>{return text.charAt(0).toUpperCase()+text.slice(1).toLowerCase();};return{downloadPdf:_=>{return downloadPdf()},format:(number)=>{return format(number)},capitalize:(text)=>{return capitalize(text)},langColor:(language)=>{return langColor(language)},removeAccents:(text)=>{return removeAccents(text)},};})();